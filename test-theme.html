<!DOCTYPE html>
<html>
<head>
    <title>Theme Testing - Case Changer Pro</title>
    <script>
        // Test localStorage theme persistence
        function testTheme() {
            const results = document.getElementById('results');
            results.innerHTML = '';
            
            // Test 1: Check if theme is stored
            const storedTheme = localStorage.getItem('case-changer-theme');
            results.innerHTML += `<p>Stored theme: ${storedTheme || 'Not set'}</p>`;
            
            // Test 2: Set different themes
            const themes = ['light', 'dark', 'system'];
            themes.forEach(theme => {
                localStorage.setItem('case-changer-theme', theme);
                const current = localStorage.getItem('case-changer-theme');
                results.innerHTML += `<p>Set ${theme}: ${current === theme ? '✅ Success' : '❌ Failed'}</p>`;
            });
            
            // Test 3: Check document classes
            const htmlClasses = document.documentElement.className;
            results.innerHTML += `<p>HTML classes: ${htmlClasses || 'None'}</p>`;
            
            // Test 4: Check CSS variables
            const rootStyles = getComputedStyle(document.documentElement);
            const bgPrimary = rootStyles.getPropertyValue('--bg-primary');
            const textPrimary = rootStyles.getPropertyValue('--text-primary');
            results.innerHTML += `<p>--bg-primary: ${bgPrimary || 'Not defined'}</p>`;
            results.innerHTML += `<p>--text-primary: ${textPrimary || 'Not defined'}</p>`;
            
            // Open the actual app in new tab
            results.innerHTML += '<hr><p>Opening app in new tab to test actual theme toggle...</p>';
            window.open('http://127.0.0.1:8000', '_blank');
        }
    </script>
</head>
<body>
    <h1>Theme Functionality Test</h1>
    <button onclick="testTheme()">Run Tests</button>
    <div id="results"></div>
</body>
</html>